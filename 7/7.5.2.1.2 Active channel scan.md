# 7.5.2.1.2 主动信道扫描
>在G3标准中该部分进行了修改
<br>- 活动信道扫描仅在开始关联之前由非关联设备使用，并且由PAN协调器在开始新网络之前使用。
<br>- 在PHY层没有信道页或信道列表概念。因此，扫描请求不关心特定的物理信道。

　　主动扫描允许设备对其个人操作空间范围内的任何协调器发射的信标进行定位。协调器可以通过主动扫描选择一个 PAN 标识符，然后启动一个新 PAN 网络；设备可以通过主动扫描后与某个 PAN 网络相关联。

　　在主动扫描期间， MAC 子层将丢弃物理层数据服务发来的所有非信标帧。~~如果接收到的信标帧，在该帧的未处理地址列表中包含有扫描设备地址信息，该扫描设备不能获取未处理数据。~~

　　开始主动扫描之前， MAC 子层先将 *macPANId* 的值保存一个副本，然后将其设置为 0xffff。这样使接收滤波器能够接收所有信标，而不仅仅只接收来自当前 PAN 的信标（见7.5.6.2）。扫描完成之后， MAC 子层将 *macPANId* 的值重新设置为扫描开始之前的值。

　　通过将 MLME-SCAN.request 原语中的参数 ScanType 指定为主动扫描，该原语就可以发送对指定的一组逻辑信道进行主动扫描的请求。对于每一个逻辑信道，设备首先通过设置相应的 *phyCurrentChannel* 和 *phyCurrentPage* 切换到信道，并发送信标请求命令（见7.3.7）。信标请求命令发送成功后，设备就应当在  $$aBaseSuperframeDuration * (2^n + 1)$$ 时间内一直使能其接收器，其中 n 表示参数 ScanDuration 的值。在此期间，设备将丢弃所有非信标帧，并记录在 PAN 描述符结构（见7.1.5.1.1节中表55）中所有唯一信标中包含的信息。
